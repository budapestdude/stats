# Chess Stats Production Environment Configuration
# Copy this file to .env.production and update with your actual values

# ============================================
# APPLICATION SETTINGS
# ============================================
NODE_ENV=production
APP_NAME=chess-stats
APP_VERSION=1.0.0
APP_URL=https://your-domain.com
PORT=3007
HOST=0.0.0.0

# ============================================
# DATABASE CONFIGURATION
# ============================================
# SQLite (Primary)
SQLITE_DB_PATH=./otb-database/complete-tournaments.db
SQLITE_MAX_CONNECTIONS=20
SQLITE_BUSY_TIMEOUT=5000

# PostgreSQL (Optional, for future migration)
POSTGRES_ENABLED=false
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=chess_stats_user
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DATABASE=chess_stats
POSTGRES_SSL=true
POSTGRES_POOL_MIN=2
POSTGRES_POOL_MAX=10

# ============================================
# REDIS CACHE CONFIGURATION
# ============================================
REDIS_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0
REDIS_KEY_PREFIX=chess-stats:
REDIS_TTL=300
REDIS_MAX_RETRIES=3

# ============================================
# SECURITY SETTINGS
# ============================================
# Session Secret (generate with: openssl rand -base64 32)
SESSION_SECRET=your_session_secret_here

# API Keys
API_KEY=your_api_key_here
ADMIN_API_KEY=your_admin_api_key_here

# CORS Configuration
CORS_ENABLED=true
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SEARCH_WINDOW_MS=60000
RATE_LIMIT_SEARCH_MAX_REQUESTS=20

# Security Headers
HELMET_ENABLED=true
CSP_ENABLED=true
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000

# ============================================
# EXTERNAL API CONFIGURATION
# ============================================
# Chess.com API
CHESSCOM_API_URL=https://api.chess.com/pub
CHESSCOM_USER_AGENT=Chess-Stats/1.0.0 (https://your-domain.com)
CHESSCOM_RATE_LIMIT_PER_MINUTE=30

# Lichess API
LICHESS_API_URL=https://lichess.org/api
LICHESS_RATE_LIMIT_PER_MINUTE=60

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_ENABLED=true
LOG_LEVEL=info
LOG_DIR=./logs
LOG_MAX_FILE_SIZE=20m
LOG_MAX_FILES=14d
LOG_FILE_ENABLED=true
LOG_CONSOLE_ENABLED=false
LOG_ERROR_FILE=true
LOG_ACCESS_FILE=true

# ============================================
# MONITORING & ALERTS
# ============================================
MONITORING_ENABLED=true
HEALTH_CHECK_INTERVAL=60000
METRICS_ENABLED=true
METRICS_PORT=9090

# Sentry Error Tracking
SENTRY_ENABLED=false
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Slack Notifications
SLACK_ENABLED=false
SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#chess-stats-alerts

# PagerDuty Integration
PAGERDUTY_ENABLED=false
PAGERDUTY_INTEGRATION_KEY=your_pagerduty_key_here

# ============================================
# PERFORMANCE OPTIMIZATION
# ============================================
# Clustering
CLUSTER_ENABLED=true
CLUSTER_WORKERS=0

# Cache Settings
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=300
CACHE_PLAYER_TTL=600
CACHE_TOURNAMENT_TTL=3600
CACHE_STATIC_TTL=86400

# Database Query Optimization
DB_QUERY_TIMEOUT=30000
DB_ENABLE_QUERY_CACHE=true
DB_QUERY_CACHE_SIZE=100

# ============================================
# BACKUP CONFIGURATION
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups
BACKUP_REMOTE_ENABLED=false
BACKUP_REMOTE_PATH=s3://your-bucket/backups

# ============================================
# SSL/TLS CONFIGURATION
# ============================================
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/your-cert.pem
SSL_KEY_PATH=/etc/ssl/private/your-key.pem
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.pem

# ============================================
# CDN & STATIC ASSETS
# ============================================
CDN_ENABLED=false
CDN_URL=https://cdn.your-domain.com
STATIC_ASSETS_PATH=./public
STATIC_CACHE_MAX_AGE=31536000

# ============================================
# EMAIL CONFIGURATION (for alerts)
# ============================================
EMAIL_ENABLED=false
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM="Chess Stats <noreply@your-domain.com>"
EMAIL_ADMIN=admin@your-domain.com

# ============================================
# FEATURE FLAGS
# ============================================
FEATURE_PLAYER_PROFILES=true
FEATURE_TOURNAMENT_ANALYSIS=true
FEATURE_OPENING_EXPLORER=true
FEATURE_GAME_SEARCH=true
FEATURE_STATISTICS=true
FEATURE_HISTORICAL_DATA=true
FEATURE_API_DOCUMENTATION=true
FEATURE_WEBSOCKET=false

# ============================================
# DEPLOYMENT & CI/CD
# ============================================
DEPLOY_ENV=production
DEPLOY_REGION=us-east-1
DEPLOY_AUTO_RESTART=true
DEPLOY_HEALTH_CHECK_URL=https://your-domain.com/health
DEPLOY_ROLLBACK_ON_FAILURE=true

# ============================================
# MISCELLANEOUS
# ============================================
# Timezone
TZ=UTC

# Locale
LOCALE=en-US

# Debug Mode (always false in production)
DEBUG=false

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="We're currently performing maintenance. Please check back soon."

# Analytics
GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X
MIXPANEL_TOKEN=your_mixpanel_token_here